<!DOCTYPE html>
<html ng-csp>
<head>
  <title>MyWeatherApp</title>
  <link rel="stylesheet" type="text/css" href="/lib/weather-icons.min.css">
  <link rel="stylesheet" type="text/css" href="/lib/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="/css/styles.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <script src="/lib/angular.min.js"></script>
  <script src="/bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
  
</head>

<body>
  <div class="container" ng-app="WeatherApp">
    <!-- Following Div will show current weather based on geolocation-->
    <div class="row">
    <div  ng-controller="CurrentWeatherController as weather">
     <div id="leftDiv" class="col-xs-5">
      
      <!-- ng-bind will prevent the expression from showing for a split second before data loads-->
       <!-- left div for temp and details -->
        <div id="mainInfo">
          <h2 id="location"> <span ng-bind="location"></span></h2>
          <h1 id="mainTemp"> <span ng-bind="main.temp  | weatherFilter : unit"></span>  </h1>
           <div id="mainIcon">
             <i class="wi" ng-class="getIcon(weather.icon)"></i>
           </div>
           
          <h2> <span ng-bind="weather.description"></span> </h2>
        </div>
        <h4> Humidity : <span ng-bind="main.humidity"></span>% </h4>
        <h4> Wind : <span ng-bind="wind.speed"></span> m/s at <span ng-bind="wind.deg"></span>&deg; </h4>
        <button id="toggleButton" class="btn btn-success btn-block"ng-click="toggleUnit()">{{toggleButtonText}}</button>
      </div>
    </div>
      
      
      <!-- Right div for forcast-->
    <div id="rightDiv" class="col-xs-7">
      <div  ng-controller="TabController as tab">
          
      
        <div class="btn-group btn-group-justified">
          <div class="btn-group">
            <button type="button" class="btn btn-danger " ng-class="{'active' : isActive(1)}" ng-click="setTab(1)">3-Hour</button>
          </div>
          <div class="btn-group">
            <button type="button" class="btn btn-danger" ng-class="{'active' : isActive(2)}" ng-click="setTab(2)">5-Day</button>
          </div>
          <div class="btn-group">
            <button type="button" class="btn btn-danger" ng-class="{'active' : isActive(3)}" ng-click="setTab(3)">10-Day</button>
          </div>
        </div>
        
        <div id="forecastContainer">
          <div class="scrollable" ng-show="isActive(1)" ng-controller="HourlyForecastController as hourly">
            <ul class="list-group nav">
              
              <div ng-repeat="item in weatherList" class="panel panel-default weather-panel">
                <div class="panel-body weather-body">
                  <div class="row">
                    <div class="icon col-xs-2">
                     <i class="wi" ng-class="getIcon(item.weather[0].icon)"></i>
                    </div>
                    <div class=" col-xs-9">
                      Temperature : {{item.main.temp | weatherFilter : unit}} <br>{{item.weather[0].description}} <br>
                      Humidity : {{item.main.humidity}}%
                    </div>
                  </div>
                </div>
                <div class="panel-footer weather-footer">
                  {{item.dt | dateFilter}}
                </div>
              </li>
            </ul>
            
          </div>
          <div class="scrollable" ng-show="isActive(2)">
            
            
          </div>
          <div class="scrollable" ng-show="isActive(3)">
            
          </div>
        </div>
      </div>
    </div>
    </div>
    
    <script src="/scripts/app.js"></script>
    <script src="/scripts/controllers.js"></script>
    <script src="/scripts/services.js"></script>
    <script src="/scripts/filters.js"></script>
  </div>
  
</body>
</html>
